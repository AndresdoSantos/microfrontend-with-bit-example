{"ast":null,"code":"\"use strict\";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod};};Object.defineProperty(exports,\"__esModule\",{value:true});exports.LanesOverviewMenu=void 0;const react_1=__importDefault(require(\"react\"));const classnames_1=__importDefault(require(\"classnames\"));const lodash_flatten_1=__importDefault(require(\"lodash.flatten\"));const react_router_dom_1=require(\"react-router-dom\");const base_react_navigation_link_1=require(\"@teambit/base-react.navigation.link\");const ui_foundation_ui_menu_1=require(\"@teambit/ui-foundation.ui.menu\");const lanes_overview_menu_module_scss_1=__importDefault(require(\"./lanes-overview-menu.module.scss\"));/**\n * top bar menu.\n * Note: Currently it has been copied from menu.tsx (scope/component/component/ui/menu)\n * Once tab-link component is ready update it\n */function LanesOverviewMenu({navigationSlot,widgetSlot,className}){//   const mainMenuItems = useMemo(() => groupBy(flatten(menuItemSlot.values()), 'category'), [menuItemSlot]);\nreturn react_1.default.createElement(\"div\",{className:(0,classnames_1.default)(lanes_overview_menu_module_scss_1.default.topBar,className)},react_1.default.createElement(\"div\",{className:lanes_overview_menu_module_scss_1.default.leftSide},react_1.default.createElement(MenuNav,{navigationSlot:navigationSlot})),react_1.default.createElement(\"div\",{className:lanes_overview_menu_module_scss_1.default.rightSide},react_1.default.createElement(\"div\",{className:lanes_overview_menu_module_scss_1.default.widgets},react_1.default.createElement(ui_foundation_ui_menu_1.Menu,{widgetSlot:widgetSlot}))));}exports.LanesOverviewMenu=LanesOverviewMenu;function MenuNav({navigationSlot}){const plugins=(0,lodash_flatten_1.default)(navigationSlot.toArray().map(([id,values])=>{const flattenedValues=(0,lodash_flatten_1.default)(values).map(value=>Object.assign(Object.assign({},value),{id}));return flattenedValues;})).sort(sortFn);return react_1.default.createElement(\"nav\",{className:lanes_overview_menu_module_scss_1.default.navigation},plugins.map((menuItem,index)=>{var _a;const hidden=(_a=menuItem.hide)===null||_a===void 0?void 0:_a.call(menuItem);if(hidden)return null;return react_1.default.createElement(TopBarNav,Object.assign({key:`${menuItem.id}-${index}`},menuItem.props));}));}function sortFn({order:first},{order:second}){// 0  - equal\n// <0 - first < second\n// >0 - first > second\nreturn(first!==null&&first!==void 0?first:0)-(second!==null&&second!==void 0?second:0);}/** TODO: replace it with tab-link */function TopBarNav(props){const{search}=(0,react_router_dom_1.useLocation)();// sticky query params\nconst{href}=props;const target=`${href}${search}`;return react_1.default.createElement(base_react_navigation_link_1.Link,Object.assign({},props,{className:(0,classnames_1.default)(props.className,lanes_overview_menu_module_scss_1.default.topBarLink),activeClassName:(0,classnames_1.default)(props.activeClassName,lanes_overview_menu_module_scss_1.default.active),href:target}),react_1.default.createElement(\"div\",null,props.children));}","map":null,"metadata":{},"sourceType":"module"}