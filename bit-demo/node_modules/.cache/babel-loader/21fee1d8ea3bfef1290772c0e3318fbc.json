{"ast":null,"code":"\"use strict\";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;Object.defineProperty(o,k2,{enumerable:true,get:function(){return m[k];}});}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k];});var __setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,\"default\",{enumerable:true,value:v});}:function(o,v){o[\"default\"]=v;});var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(k!==\"default\"&&Object.prototype.hasOwnProperty.call(mod,k))__createBinding(result,mod,k);__setModuleDefault(result,mod);return result;};var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod};};Object.defineProperty(exports,\"__esModule\",{value:true});exports.LaneOverview=void 0;const react_1=__importStar(require(\"react\"));const lanes_ui_models_lanes_model_1=require(\"@teambit/lanes.ui.models.lanes-model\");const explorer_ui_gallery_component_grid_1=require(\"@teambit/explorer.ui.gallery.component-grid\");const ui_foundation_ui_react_router_slot_router_1=require(\"@teambit/ui-foundation.ui.react-router.slot-router\");const workspace_ui_workspace_component_card_1=require(\"@teambit/workspace.ui.workspace-component-card\");const lanes_hooks_use_lanes_1=require(\"@teambit/lanes.hooks.use-lanes\");const lanes_hooks_use_lane_components_1=require(\"@teambit/lanes.hooks.use-lane-components\");const lodash_flatten_1=__importDefault(require(\"lodash.flatten\"));const scope_1=require(\"@teambit/scope\");const lanes_ui_lane_details_1=require(\"@teambit/lanes.ui.lane-details\");const empty_lane_overview_1=require(\"./empty-lane-overview\");const lane_overview_module_scss_1=__importDefault(require(\"./lane-overview.module.scss\"));function LaneOverview({routeSlot,overviewSlot,host}){const{lanesModel}=(0,lanes_hooks_use_lanes_1.useLanes)();const overviewItems=(0,react_1.useMemo)(()=>(0,lodash_flatten_1.default)(overviewSlot===null||overviewSlot===void 0?void 0:overviewSlot.values()),[overviewSlot]);const currentLane=lanesModel===null||lanesModel===void 0?void 0:lanesModel.viewedLane;if(!currentLane||!currentLane.id)return null;if(currentLane.components.length===0)return react_1.default.createElement(empty_lane_overview_1.EmptyLaneOverview,{name:currentLane.id.name});return react_1.default.createElement(LaneOverviewWithPreview,{host:host,currentLane:currentLane,overviewItems:overviewItems,routeSlot:routeSlot});}exports.LaneOverview=LaneOverview;function LaneOverviewWithPreview({currentLane,overviewItems,routeSlot,host}){const{loading,components}=(0,lanes_hooks_use_lane_components_1.useLaneComponents)(currentLane.id);if(loading)return null;const ComponentCard=host==='workspace'?({component})=>react_1.default.createElement(workspace_ui_workspace_component_card_1.WorkspaceComponentCard,{component:component,componentUrl:lanes_ui_models_lanes_model_1.LanesModel.getLaneComponentUrl(component.id,currentLane.id)}):({component})=>react_1.default.createElement(scope_1.ScopeComponentCard,{component:component,componentUrl:lanes_ui_models_lanes_model_1.LanesModel.getLaneComponentUrl(component.id,currentLane.id)});return react_1.default.createElement(\"div\",{className:lane_overview_module_scss_1.default.container},react_1.default.createElement(lanes_ui_lane_details_1.LaneDetails,{className:lane_overview_module_scss_1.default.laneDetails,laneId:currentLane.id,description:'',componentCount:currentLane.components.length}),react_1.default.createElement(explorer_ui_gallery_component_grid_1.ComponentGrid,null,components===null||components===void 0?void 0:components.map((component,index)=>react_1.default.createElement(ComponentCard,{component:component,key:index}))),routeSlot&&react_1.default.createElement(ui_foundation_ui_react_router_slot_router_1.SlotRouter,{slot:routeSlot}),overviewItems.length>0&&overviewItems.map((Item,index)=>react_1.default.createElement(Item,{key:index})));}","map":null,"metadata":{},"sourceType":"module"}