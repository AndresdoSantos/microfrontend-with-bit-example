{"ast":null,"code":"\"use strict\";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;Object.defineProperty(o,k2,{enumerable:true,get:function(){return m[k];}});}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k];});var __setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,\"default\",{enumerable:true,value:v});}:function(o,v){o[\"default\"]=v;});var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(k!==\"default\"&&Object.prototype.hasOwnProperty.call(mod,k))__createBinding(result,mod,k);__setModuleDefault(result,mod);return result;};var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod};};Object.defineProperty(exports,\"__esModule\",{value:true});exports.ComponentView=void 0;const base_react_navigation_link_1=require(\"@teambit/base-react.navigation.link\");const envs_ui_env_icon_1=require(\"@teambit/envs.ui.env-icon\");const component_ui_deprecation_icon_1=require(\"@teambit/component.ui.deprecation-icon\");const classnames_1=__importDefault(require(\"classnames\"));const component_1=require(\"@teambit/component\");const component_modules_component_url_1=require(\"@teambit/component.modules.component-url\");const react_1=__importStar(require(\"react\"));const design_ui_tooltip_1=require(\"@teambit/design.ui.tooltip\");const base_ui_graph_tree_tree_context_1=require(\"@teambit/base-ui.graph.tree.tree-context\");const base_ui_graph_tree_indent_1=require(\"@teambit/base-ui.graph.tree.indent\");const lanes_hooks_use_lanes_1=require(\"@teambit/lanes.hooks.use-lanes\");const get_name_1=require(\"../utils/get-name\");const component_view_module_scss_1=__importDefault(require(\"./component-view.module.scss\"));function ComponentView(props){var _a,_b,_c,_d;const{node}=props;const component=node.payload;const{onSelect}=(0,react_1.useContext)(base_ui_graph_tree_tree_context_1.TreeContext);const{lanesModel}=(0,lanes_hooks_use_lanes_1.useLanes)();const handleClick=(0,react_1.useCallback)(event=>{onSelect&&onSelect(node.id,event);},[onSelect,node.id]);if(!(component instanceof component_1.ComponentModel))return null;const envId=component_1.ComponentID.fromString((_a=component.environment)===null||_a===void 0?void 0:_a.id);const envTooltip=react_1.default.createElement(base_react_navigation_link_1.Link,{className:component_view_module_scss_1.default.envLink,href:component_modules_component_url_1.ComponentUrl.toUrl(envId,{includeVersion:true}),external:true,onClick:event=>{// do not trigger component selection\nevent.stopPropagation();}},react_1.default.createElement(\"div\",{className:component_view_module_scss_1.default.componentEnvTitle},\"Environment\"),react_1.default.createElement(\"div\",null,(_b=component.environment)===null||_b===void 0?void 0:_b.id));const href=lanesModel===null||lanesModel===void 0?void 0:lanesModel.getLaneComponentUrlByVersion(component.id,(_c=lanesModel.viewedLane)===null||_c===void 0?void 0:_c.id);const viewingMainCompOnLane=!((_d=lanesModel===null||lanesModel===void 0?void 0:lanesModel.viewedLane)===null||_d===void 0?void 0:_d.id.isDefault())&&(lanesModel===null||lanesModel===void 0?void 0:lanesModel.isComponentOnMainButNotOnLane(component.id));const Name=viewingMainCompOnLane?react_1.default.createElement(design_ui_tooltip_1.Tooltip,{className:component_view_module_scss_1.default.onMainTooltip,placement:\"right\",content:'On Main'},react_1.default.createElement(\"span\",null,(0,get_name_1.getName)(node.id))):react_1.default.createElement(\"span\",null,(0,get_name_1.getName)(node.id));return react_1.default.createElement(base_react_navigation_link_1.Link,{href:href,className:(0,classnames_1.default)(base_ui_graph_tree_indent_1.indentClass,component_view_module_scss_1.default.component,viewingMainCompOnLane&&component_view_module_scss_1.default.mainOnly),activeClassName:component_view_module_scss_1.default.active,onClick:handleClick},react_1.default.createElement(\"div\",{className:component_view_module_scss_1.default.left},react_1.default.createElement(design_ui_tooltip_1.Tooltip,{className:component_view_module_scss_1.default.componentEnvTooltip,placement:\"right\",content:envTooltip},react_1.default.createElement(envs_ui_env_icon_1.EnvIcon,{component:component,className:component_view_module_scss_1.default.envIcon})),Name),react_1.default.createElement(\"div\",{className:component_view_module_scss_1.default.right},react_1.default.createElement(component_ui_deprecation_icon_1.DeprecationIcon,{component:component}),props.treeNodeSlot&&props.treeNodeSlot.toArray().map(([id,treeNode])=>react_1.default.createElement(treeNode.widget,{key:id,component:component}))));}exports.ComponentView=ComponentView;","map":null,"metadata":{},"sourceType":"module"}