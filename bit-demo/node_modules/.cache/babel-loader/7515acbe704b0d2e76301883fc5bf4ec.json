{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.useInterval=exports.useIframeContentHeight=void 0;const react_1=require(\"react\");function useIframeContentHeight({interval=250,skip,viewport}){const iframeRef=(0,react_1.useRef)(null);const[iframeHeight,setIframeHeight]=(0,react_1.useState)(0);const[iframeWidth,setIframeWidth]=(0,react_1.useState)(0);if(skip)return[iframeRef,undefined,iframeWidth];let first=true;useInterval(()=>{var _a;try{const iframe=iframeRef.current;// eslint-disable-next-line\nif(viewport!==null)iframe.contentWindow.document.body.style.width='fit-content';if(!first&&(iframe===null||iframe===void 0?void 0:iframe.style.height)==='5000px'){iframe.style.height='100%';}// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\nconst newHeight=iframe.contentWindow.document.body.scrollHeight;const newWidth=(_a=iframe===null||iframe===void 0?void 0:iframe.contentWindow)===null||_a===void 0?void 0:_a.document.body.offsetWidth;setIframeHeight(newHeight);setIframeWidth(newWidth||0);first=false;}catch(_){// eslint-disable-next-line\n}},interval);return[iframeRef,iframeHeight,iframeWidth];}exports.useIframeContentHeight=useIframeContentHeight;function useInterval(callback,interval){const savedCallback=(0,react_1.useRef)(()=>callback);(0,react_1.useEffect)(()=>{savedCallback.current=callback;});// Set up the interval.\n(0,react_1.useEffect)(()=>{function tick(){savedCallback.current();}if(interval!==null){const id=setInterval(tick,interval);return()=>clearInterval(id);}// eslint-disable-next-line\nreturn()=>{};},[interval]);}exports.useInterval=useInterval;","map":null,"metadata":{},"sourceType":"module"}